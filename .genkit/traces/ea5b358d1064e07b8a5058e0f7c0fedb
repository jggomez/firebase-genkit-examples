{"traceId":"ea5b358d1064e07b8a5058e0f7c0fedb","spans":{"9cc70fc2414a5654":{"spanId":"9cc70fc2414a5654","traceId":"ea5b358d1064e07b8a5058e0f7c0fedb","parentSpanId":"eb1f779ec7f89b9b","startTime":1734412538085,"endTime":1734412539110.4202,"attributes":{"genkit:type":"action","genkit:name":"googleai/gemini-1.5-flash","genkit:path":"/{generate,t:helper}/{googleai/gemini-1.5-flash,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"I want 5 commons quotes by Tyrion in GOT\"}]}],\"config\":{},\"tools\":[{\"name\":\"getQuotesGameOfThrones\",\"description\":\"A free API to retrieve some quotes of Game of Thrones\",\"outputSchema\":{\"type\":\"object\",\"properties\":{\"quotes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"quotes\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"characterName\":{\"type\":\"string\"},\"numQuotes\":{\"type\":\"number\",\"default\":1}},\"required\":[\"characterName\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}],\"output\":{}}","genkit:metadata:subtype":"model","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"toolRequest\":{\"name\":\"getQuotesGameOfThrones\",\"input\":{\"characterName\":\"Tyrion Lannister\",\"numQuotes\":5}}}]},\"finishReason\":\"stop\",\"custom\":{}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"functionCall\":{\"name\":\"getQuotesGameOfThrones\",\"args\":{\"characterName\":\"Tyrion Lannister\",\"numQuotes\":5}}}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.01641863371644701}],\"usageMetadata\":{\"promptTokenCount\":77,\"candidatesTokenCount\":14,\"totalTokenCount\":91},\"modelVersion\":\"gemini-1.5-flash\"},\"usage\":{\"inputCharacters\":40,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":0,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":77,\"outputTokens\":14,\"totalTokens\":91},\"latencyMs\":1020.1369169950485}","genkit:state":"success"},"displayName":"googleai/gemini-1.5-flash","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"f5886850f96bb29b":{"spanId":"f5886850f96bb29b","traceId":"ea5b358d1064e07b8a5058e0f7c0fedb","parentSpanId":"eb1f779ec7f89b9b","startTime":1734412539155,"endTime":1734412539488.546,"attributes":{"genkit:type":"action","genkit:name":"getQuotesGameOfThrones","genkit:path":"/{generate,t:helper}/{getQuotesGameOfThrones,t:action,s:tool}","genkit:input":"{\"characterName\":\"Tyrion Lannister\",\"numQuotes\":5}","genkit:metadata:subtype":"tool","genkit:output":"{\"quotes\":[\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say\",\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\",\"I am your son. I have always been your son.\",\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\",\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\"]}","genkit:state":"success"},"displayName":"getQuotesGameOfThrones","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"500da33fd5841eb2":{"spanId":"500da33fd5841eb2","traceId":"ea5b358d1064e07b8a5058e0f7c0fedb","parentSpanId":"1325423fdcc5c46d","startTime":1734412539494,"endTime":1734412540923.0435,"attributes":{"genkit:type":"action","genkit:name":"googleai/gemini-1.5-flash","genkit:path":"/{generate,t:helper}/{generate,t:helper}/{googleai/gemini-1.5-flash,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"I want 5 commons quotes by Tyrion in GOT\"}]},{\"role\":\"model\",\"content\":[{\"toolRequest\":{\"name\":\"getQuotesGameOfThrones\",\"input\":{\"characterName\":\"Tyrion Lannister\",\"numQuotes\":5}}}]},{\"role\":\"tool\",\"content\":[{\"toolResponse\":{\"name\":\"getQuotesGameOfThrones\",\"output\":{\"quotes\":[\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say\",\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\",\"I am your son. I have always been your son.\",\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\",\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\"]}}}]}],\"config\":{},\"tools\":[{\"name\":\"getQuotesGameOfThrones\",\"description\":\"A free API to retrieve some quotes of Game of Thrones\",\"outputSchema\":{\"type\":\"object\",\"properties\":{\"quotes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"quotes\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"characterName\":{\"type\":\"string\"},\"numQuotes\":{\"type\":\"number\",\"default\":1}},\"required\":[\"characterName\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}],\"output\":{}}","genkit:metadata:subtype":"model","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"Here are five quotes by Tyrion Lannister from Game of Thrones:\\n\\n1. \\\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say.\\\"\\n2. \\\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\\\"\\n3. \\\"I am your son. I have always been your son.\\\"\\n4. \\\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\\\"\\n5. \\\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\\\"\\n\"}]},\"finishReason\":\"stop\",\"custom\":{\"citationMetadata\":{\"citationSources\":[{\"startIndex\":68,\"endIndex\":195,\"uri\":\"https://www.kaspersky.com/blog/ek-on-twitter-ads/22106/\"},{\"startIndex\":364,\"endIndex\":517,\"uri\":\"https://ew.com/tv/2019/03/25/game-of-thrones-season-4-episode-guide/\"},{\"startIndex\":521,\"endIndex\":650,\"uri\":\"https://gameofthronesquotes.xyz/\"}]}}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"Here are five quotes by Tyrion Lannister from Game of Thrones:\\n\\n1. \\\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say.\\\"\\n2. \\\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\\\"\\n3. \\\"I am your son. I have always been your son.\\\"\\n4. \\\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\\\"\\n5. \\\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\\\"\\n\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"citationMetadata\":{\"citationSources\":[{\"startIndex\":68,\"endIndex\":195,\"uri\":\"https://www.kaspersky.com/blog/ek-on-twitter-ads/22106/\"},{\"startIndex\":364,\"endIndex\":517,\"uri\":\"https://ew.com/tv/2019/03/25/game-of-thrones-season-4-episode-guide/\"},{\"startIndex\":521,\"endIndex\":650,\"uri\":\"https://gameofthronesquotes.xyz/\"}]},\"avgLogprobs\":-0.0023983941730840244}],\"usageMetadata\":{\"promptTokenCount\":286,\"candidatesTokenCount\":179,\"totalTokenCount\":465},\"modelVersion\":\"gemini-1.5-flash\"},\"usage\":{\"inputCharacters\":40,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":655,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":286,\"outputTokens\":179,\"totalTokens\":465},\"latencyMs\":1428.414332985878}","genkit:state":"success"},"displayName":"googleai/gemini-1.5-flash","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"eb1f779ec7f89b9b":{"spanId":"eb1f779ec7f89b9b","traceId":"ea5b358d1064e07b8a5058e0f7c0fedb","startTime":1734412538032,"endTime":1734412540927.233,"attributes":{"genkit:type":"helper","genkit:name":"generate","genkit:isRoot":true,"genkit:path":"/{generate,t:helper}","genkit:input":"{\"model\":\"googleai/gemini-1.5-flash\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"I want 5 commons quotes by Tyrion in GOT\"}]}],\"tools\":[\"/tool/getQuotesGameOfThrones\"],\"config\":{}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"Here are five quotes by Tyrion Lannister from Game of Thrones:\\n\\n1. \\\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say.\\\"\\n2. \\\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\\\"\\n3. \\\"I am your son. I have always been your son.\\\"\\n4. \\\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\\\"\\n5. \\\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\\\"\\n\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":40,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":655,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":286,\"outputTokens\":179,\"totalTokens\":465},\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"Here are five quotes by Tyrion Lannister from Game of Thrones:\\n\\n1. \\\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say.\\\"\\n2. \\\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\\\"\\n3. \\\"I am your son. I have always been your son.\\\"\\n4. \\\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\\\"\\n5. \\\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\\\"\\n\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"citationMetadata\":{\"citationSources\":[{\"startIndex\":68,\"endIndex\":195,\"uri\":\"https://www.kaspersky.com/blog/ek-on-twitter-ads/22106/\"},{\"startIndex\":364,\"endIndex\":517,\"uri\":\"https://ew.com/tv/2019/03/25/game-of-thrones-season-4-episode-guide/\"},{\"startIndex\":521,\"endIndex\":650,\"uri\":\"https://gameofthronesquotes.xyz/\"}]},\"avgLogprobs\":-0.0023983941730840244}],\"usageMetadata\":{\"promptTokenCount\":286,\"candidatesTokenCount\":179,\"totalTokenCount\":465},\"modelVersion\":\"gemini-1.5-flash\"},\"request\":{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"I want 5 commons quotes by Tyrion in GOT\"}]},{\"role\":\"model\",\"content\":[{\"toolRequest\":{\"name\":\"getQuotesGameOfThrones\",\"input\":{\"characterName\":\"Tyrion Lannister\",\"numQuotes\":5}}}]},{\"role\":\"tool\",\"content\":[{\"toolResponse\":{\"name\":\"getQuotesGameOfThrones\",\"output\":{\"quotes\":[\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say\",\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\",\"I am your son. I have always been your son.\",\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\",\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\"]}}}]}],\"config\":{},\"tools\":[{\"name\":\"getQuotesGameOfThrones\",\"description\":\"A free API to retrieve some quotes of Game of Thrones\",\"outputSchema\":{\"type\":\"object\",\"properties\":{\"quotes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"quotes\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"characterName\":{\"type\":\"string\"},\"numQuotes\":{\"type\":\"number\",\"default\":1}},\"required\":[\"characterName\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}],\"output\":{}}}","genkit:state":"success"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"1325423fdcc5c46d":{"spanId":"1325423fdcc5c46d","traceId":"ea5b358d1064e07b8a5058e0f7c0fedb","startTime":1734412539492,"endTime":1734412540925.8433,"attributes":{"genkit:type":"helper","genkit:name":"generate","genkit:path":"/{generate,t:helper}/{generate,t:helper}","genkit:input":"{\"model\":\"googleai/gemini-1.5-flash\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"I want 5 commons quotes by Tyrion in GOT\"}]},{\"role\":\"model\",\"content\":[{\"toolRequest\":{\"name\":\"getQuotesGameOfThrones\",\"input\":{\"characterName\":\"Tyrion Lannister\",\"numQuotes\":5}}}]},{\"role\":\"tool\",\"content\":[{\"toolResponse\":{\"name\":\"getQuotesGameOfThrones\",\"output\":{\"quotes\":[\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say\",\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\",\"I am your son. I have always been your son.\",\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\",\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\"]}}}]}],\"tools\":[\"/tool/getQuotesGameOfThrones\"],\"config\":{}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"Here are five quotes by Tyrion Lannister from Game of Thrones:\\n\\n1. \\\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say.\\\"\\n2. \\\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\\\"\\n3. \\\"I am your son. I have always been your son.\\\"\\n4. \\\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\\\"\\n5. \\\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\\\"\\n\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":40,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":655,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":286,\"outputTokens\":179,\"totalTokens\":465},\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"Here are five quotes by Tyrion Lannister from Game of Thrones:\\n\\n1. \\\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say.\\\"\\n2. \\\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\\\"\\n3. \\\"I am your son. I have always been your son.\\\"\\n4. \\\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\\\"\\n5. \\\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\\\"\\n\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"citationMetadata\":{\"citationSources\":[{\"startIndex\":68,\"endIndex\":195,\"uri\":\"https://www.kaspersky.com/blog/ek-on-twitter-ads/22106/\"},{\"startIndex\":364,\"endIndex\":517,\"uri\":\"https://ew.com/tv/2019/03/25/game-of-thrones-season-4-episode-guide/\"},{\"startIndex\":521,\"endIndex\":650,\"uri\":\"https://gameofthronesquotes.xyz/\"}]},\"avgLogprobs\":-0.0023983941730840244}],\"usageMetadata\":{\"promptTokenCount\":286,\"candidatesTokenCount\":179,\"totalTokenCount\":465},\"modelVersion\":\"gemini-1.5-flash\"},\"request\":{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"I want 5 commons quotes by Tyrion in GOT\"}]},{\"role\":\"model\",\"content\":[{\"toolRequest\":{\"name\":\"getQuotesGameOfThrones\",\"input\":{\"characterName\":\"Tyrion Lannister\",\"numQuotes\":5}}}]},{\"role\":\"tool\",\"content\":[{\"toolResponse\":{\"name\":\"getQuotesGameOfThrones\",\"output\":{\"quotes\":[\"When you tear out a man's tongue, you are not proving him a liar, you're only telling the world that you fear what he might say\",\"Why is it that when one man builds a wall, the next man immediately needs to know what's on the other side?\",\"I am your son. I have always been your son.\",\"I wish I was the monster you think I am! I wish I had enough poison for the whole pack of you! I would gladly give my life to watch you all swallow it!\",\"Well, my brother has his sword, and I have my mind, and a mind needs books like a sword needs a whetstone, if it's to keep its edge.\"]}}}]}],\"config\":{},\"tools\":[{\"name\":\"getQuotesGameOfThrones\",\"description\":\"A free API to retrieve some quotes of Game of Thrones\",\"outputSchema\":{\"type\":\"object\",\"properties\":{\"quotes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"quotes\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"characterName\":{\"type\":\"string\"},\"numQuotes\":{\"type\":\"number\",\"default\":1}},\"required\":[\"characterName\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}],\"output\":{}}}","genkit:state":"success"},"displayName":"generate","links":[],"spanKind":"INTERNAL","parentSpanId":"eb1f779ec7f89b9b","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]},"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"}}}}