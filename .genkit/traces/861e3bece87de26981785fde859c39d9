{"traceId":"861e3bece87de26981785fde859c39d9","spans":{"f734f7e7fc5c1f1d":{"spanId":"f734f7e7fc5c1f1d","traceId":"861e3bece87de26981785fde859c39d9","parentSpanId":"2aa35a885ad278d6","startTime":1734411152100,"endTime":1734411153137.5713,"attributes":{"genkit:type":"action","genkit:name":"googleai/gemini-1.5-flash","genkit:path":"/{generate,t:helper}/{googleai/gemini-1.5-flash,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"What phrases are commons for Tyrion Lannister\"}]}],\"config\":{},\"tools\":[{\"name\":\"getQuotesTool\",\"description\":\"\",\"outputSchema\":{\"type\":\"object\",\"properties\":{\"quotes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"quotes\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"characterName\":{\"type\":\"string\"},\"numQuotes\":{\"type\":\"number\"}},\"required\":[\"characterName\",\"numQuotes\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}],\"output\":{}}","genkit:metadata:subtype":"model","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"toolRequest\":{\"name\":\"getQuotesTool\",\"input\":{\"numQuotes\":5,\"characterName\":\"Tyrion Lannister\"}}}]},\"finishReason\":\"stop\",\"custom\":{}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"functionCall\":{\"name\":\"getQuotesTool\",\"args\":{\"numQuotes\":5,\"characterName\":\"Tyrion Lannister\"}}}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.05134476314891468}],\"usageMetadata\":{\"promptTokenCount\":57,\"candidatesTokenCount\":11,\"totalTokenCount\":68},\"modelVersion\":\"gemini-1.5-flash\"},\"usage\":{\"inputCharacters\":45,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":0,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":57,\"outputTokens\":11,\"totalTokens\":68},\"latencyMs\":1031.4075000286102}","genkit:state":"success"},"displayName":"googleai/gemini-1.5-flash","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"9b954921cf5d7f51":{"spanId":"9b954921cf5d7f51","traceId":"861e3bece87de26981785fde859c39d9","startTime":1734411153192,"endTime":1734411153582.4995,"attributes":{"genkit:type":"action","genkit:name":"getQuotesTool","genkit:path":"/{generate,t:helper}/{getQuotesTool,t:action,s:tool}","genkit:input":"{\"numQuotes\":5,\"characterName\":\"Tyrion Lannister\"}","genkit:metadata:subtype":"tool","genkit:state":"error"},"displayName":"getQuotesTool","links":[],"spanKind":"INTERNAL","parentSpanId":"2aa35a885ad278d6","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"Request failed with status code 404"},"timeEvents":{"timeEvent":[{"time":1734411153582.4607,"annotation":{"attributes":{"exception.type":"ERR_BAD_REQUEST","exception.message":"Request failed with status code 404","exception.stacktrace":"AxiosError: Request failed with status code 404\n    at settle (/Users/jggomez/Documents/jggomez/code/firebase-genkit-examples/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/jggomez/Documents/jggomez/code/firebase-genkit-examples/node_modules/axios/lib/adapters/http.js:599:11)\n    at IncomingMessage.emit (node:events:529:35)\n    at endReadableNT (node:internal/streams/readable:1368:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (/Users/jggomez/Documents/jggomez/code/firebase-genkit-examples/node_modules/axios/lib/core/Axios.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at fetchData (/Users/jggomez/Documents/jggomez/code/firebase-genkit-examples/src/11_tool_calling.ts:22:26)\n    at <anonymous> (/Users/jggomez/Documents/jggomez/code/firebase-genkit-examples/src/11_tool_calling.ts:47:26)"},"description":"exception"}}]},"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"}}}}